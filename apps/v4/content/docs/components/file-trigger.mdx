---
title: File Trigger
description: A file trigger allows a user to access the file system with any pressable component.
component: true
links:
  doc: https://react-spectrum.adobe.com/react-aria/FileTrigger.html
  api: https://react-spectrum.adobe.com/react-aria/FileTrigger.html#props
---

<ComponentPreview name="file-trigger-demo" description="A basic file trigger." />

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger id="cli">CLI</TabsTrigger>
  <TabsTrigger id="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent id="cli">

```bash
npx shadcn@latest add file-trigger
```

</TabsContent>

<TabsContent id="manual">

<Steps>

<Step>Install the following dependencies:</Step>

```bash
npm install react-aria-components
```

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="file-trigger" title="components/ui/file-trigger.tsx" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

```tsx
import { FileTrigger } from "@/components/ui/file-trigger"
import { Button } from "@/components/ui/button"
```

```tsx
<FileTrigger onSelect={(files) => console.log(files)}>
  <Button>Select a file</Button>
</FileTrigger>
```

## Features

A file input can be created with an `<input type="file">` element, but this supports limited styling options and may not integrate well with the overall design of a website or application. `FileTrigger` extends the functionality of the standard file input element by working with a pressable child such as a `Button` to create accessible file inputs that can be styled as needed.

- **Customizable** – Works with any pressable React Aria component, and custom components built with `usePress`.
- **File type filtering** – Accepts specific file types using MIME types.
- **Multiple files** – Supports selecting multiple files at once.
- **Directory selection** – Allows users to select entire directories.
- **Media capture** – Supports opening device camera on mobile devices.

## Examples

### Default

<ComponentPreview name="file-trigger-demo" description="A basic file trigger with a button." />

```tsx showLineNumbers
"use client"

import { useState } from "react"
import { Button } from "@/components/ui/button"
import { FileTrigger } from "@/components/ui/file-trigger"

export default function FileTriggerDemo() {
  const [file, setFile] = useState<string | null>(null)

  return (
    <>
      <FileTrigger
        onSelect={(e) => {
          const files = e ? Array.from(e) : []
          const filenames = files.map((file) => file.name)
          setFile(filenames[0] || null)
        }}
      >
        <Button variant="outline">Select a file</Button>
      </FileTrigger>
      {file && <p>Selected: {file}</p>}
    </>
  )
}
```

### Multiple Files

<ComponentPreview 
  name="file-trigger-multiple" 
  description="Allow users to select multiple files at once." 
/>

```tsx showLineNumbers
<FileTrigger
  allowsMultiple
  onSelect={(e) => {
    const files = e ? Array.from(e) : []
    console.log(files.map((file) => file.name))
  }}
>
  <Button variant="outline">Select multiple files</Button>
</FileTrigger>
```

### Accepted File Types

<ComponentPreview 
  name="file-trigger-image" 
  description="Restrict file selection to specific file types." 
/>

```tsx showLineNumbers
<FileTrigger
  acceptedFileTypes={["image/png", "image/jpeg", "image/jpg", "image/gif"]}
  onSelect={(e) => {
    const files = e ? Array.from(e) : []
    console.log(files[0])
  }}
>
  <Button variant="outline">
    <ImageIcon />
    Select an image
  </Button>
</FileTrigger>
```

You can specify file types using MIME types. Common examples include:

- `image/*` - All image types
- `image/png`, `image/jpeg` - Specific image formats
- `video/*` - All video types
- `application/pdf` - PDF files
- `.txt`, `.doc` - File extensions

### Directory Selection

<ComponentPreview 
  name="file-trigger-directory" 
  description="Enable selecting directories instead of files." 
/>

```tsx showLineNumbers
<FileTrigger
  acceptDirectory
  onSelect={(e) => {
    if (e) {
      const fileList = Array.from(e).map((file) =>
        file.webkitRelativePath !== ""
          ? file.webkitRelativePath
          : file.name
      )
      console.log(fileList)
    }
  }}
>
  <Button variant="outline">
    <FolderIcon />
    Select a directory
  </Button>
</FileTrigger>
```

This reflects the `webkitdirectory` HTML attribute and allows users to select directories and their contents. Please note that support for this feature varies from browser to browser.

### Media Capture

<ComponentPreview 
  name="file-trigger-camera" 
  description="Open device camera on mobile devices." 
/>

```tsx showLineNumbers
<FileTrigger
  defaultCamera="environment"
  acceptedFileTypes={["image/*"]}
  onSelect={(e) => {
    const files = e ? Array.from(e) : []
    console.log(files[0])
  }}
>
  <Button variant="outline">
    <CameraIcon />
    Open Camera
  </Button>
</FileTrigger>
```

To specify the media capture mechanism to capture media on the spot, pass `user` for the user-facing camera or `environment` for the outward-facing camera via the `defaultCamera` prop.

This behavior only works on mobile devices. On desktop devices, it will open the file system like normal.

## API Reference

### FileTrigger

The `FileTrigger` component wraps around a pressable child and includes a visually hidden input element that allows the user to select files from their device.

| Prop                | Type                           | Default | Description                                                                                     |
| ------------------- | ------------------------------ | ------- | ----------------------------------------------------------------------------------------------- |
| `acceptedFileTypes` | `string[]`                     | -       | Specifies what MIME types of files are allowed.                                                 |
| `allowsMultiple`    | `boolean`                      | `false` | Whether multiple files can be selected.                                                         |
| `defaultCamera`     | `"user" \| "environment"`      | -       | Specifies the use of a media capture mechanism to capture the media on the spot.                |
| `acceptDirectory`   | `boolean`                      | `false` | Enables the selection of directories instead of individual files.                               |
| `onSelect`          | `(files: FileList \| null) => void` | -       | Handler called when a user selects files. Receives a `FileList` object or `null` if cancelled. |

If a visual label is not provided on the pressable child, then an `aria-label` or `aria-labelledby` prop must be passed to identify the file trigger to assistive technology.

Apart from the props above, the `FileTrigger` component also supports the props from the `react-aria-components` `FileTrigger` component. Check the [React Aria documentation](https://react-spectrum.adobe.com/react-aria/FileTrigger.html#props) for more details.

